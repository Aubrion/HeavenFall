<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_player</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_collision_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///player init
randomize()
global.color=make_colour_rgb(random(255),random(255),random(255))
mass=48
look=1
global.look=1
mspd=1
global.stun=false
global.root=false
global.sub=0
jump=false
sprite_normal=spr_player
sprite_jump=spr_player_jump



//grav
z=0
zspeed=0
zgravity=0
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///create shadow
instance_create(x,y,obj_player_shadow)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///slow
global.slow=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///blind
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///silence
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///root
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///stun
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///grav init and look
y-=zspeed

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///stats and level up

//dont empty stats
if global.hp&gt;global.mhp {global.hp=global.mhp}
if global.sp&gt;global.msp {global.sp=global.msp}

if global.hp&lt;0 {global.hp=0} //Die
if global.sp&lt;0 {global.sp=0}

//level up
if (global.xp&gt;= global.mxp and global.lvl&lt;99)
{
    global.xp -= global.mxp;
    global.lvl += 1;
    global.mxp += global.lvl*5;
    instance_create(x,y,obj_levelup);
    //update stats
    stats_update();
}

if (global.lvl=99) global.xp=0;



</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///player movement/animation

///look
if global.attack=0 or global.attack=-2
{
if mouse_x&lt;obj_player.x {look=-1}
if mouse_x&gt;obj_player.x {look= 1}
}

//this will be the player movement
//player movement
if alarm[0]&lt;0 and alarm[1]&lt;0 and global.stun=false and global.root=false
{
    if(!global.hyChatActive /*&amp;&amp; !obj_inventory.active*/)
    {
        if keyboard_check(global.key1up)   and !keyboard_check(global.key1down) {if (place_free(x,y-(global.movespeed/2)-1) and jump=false and !place_meeting(obj_player_shadow.x,obj_player_shadow.y-(global.movespeed/2)-1,obj_wall)) or (jump=true and !place_meeting(obj_player_shadow.x,obj_player_shadow.y-(global.movespeed/2)-1,obj_wall)) {y-=((global.movespeed/2)) mspd=(global.movespeed/2)}}
        if keyboard_check(global.key1down) and !keyboard_check(global.key1up)   {if (place_free(x,y+(global.movespeed/2)) and jump=false and !place_meeting(obj_player_shadow.x,obj_player_shadow.y+(global.movespeed/2),obj_wall)) or (jump=true and !place_meeting(obj_player_shadow.x,obj_player_shadow.y+(global.movespeed/2),obj_wall)) {y+=((global.movespeed/2)) mspd=(global.movespeed/2)}}
        if keyboard_check(global.key1right)and !keyboard_check(global.key1left) {if ((place_free(x+(global.movespeed+24),y) and jump=false) and  !place_meeting(x+(global.movespeed),y,obj_wall)) or (jump=true and !place_meeting(obj_player_shadow.x+(global.movespeed),obj_player_shadow.y,obj_wall)) {if look=1 {x+=global.movespeed; mspd=global.movespeed} else {x+=global.movespeed/1.2 mspd=global.movespeed}}}
        if keyboard_check(global.key1left) and !keyboard_check(global.key1right){if ((place_free(x-(global.movespeed+24),y) and jump=false) and  !place_meeting(x-(global.movespeed),y,obj_wall)) or (jump=true and !place_meeting(obj_player_shadow.x-(global.movespeed),obj_player_shadow.y,obj_wall)) {if look=1 {x-=global.movespeed/1.2; mspd=global.movespeed} else {x-=global.movespeed mspd=global.movespeed}}}
        if keyboard_check_pressed(global.key1jump) and (global.attack=0 or global.attack=-2) {if zspeed=0 and zgravity=0 {y-=5  zspeed=5;zgravity=.25 audio_play_sound(jump_5,0,0) hyComEmit("USER", "ANIMATION", "0")}}
    }
}
//image mirror and image sub_image
if jump=false{ if global.attack=0 {if look=1 {image_xscale=1 global.look=1} else {image_xscale=-1 global.look=-1}}}
global.sub=floor(image_index)
if zgravity=0 {jump=false sprite_index=sprite_normal} else {jump=true sprite_index=sprite_jump}

//image speed
if  !keyboard_check(global.key1right)
and !keyboard_check(global.key1left)
and !keyboard_check(global.key1up)
and !keyboard_check(global.key1down)
{
 image_speed=0.02
}
 else
{
 image_speed=(mspd/8)
}

///grav init
z+=zspeed
zspeed-=zgravity
if z&lt;1
{
 z=0
 zspeed=0
 zgravity=0
}

//image stop
if alarm[0]&gt;0 or alarm[1]&gt;0
{
 image_speed=0
}





</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///depth
if jump=false
{
 depth=(1*-(y+12))
}
 else
{
 depth=obj_player_shadow.depth-1000
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Hit</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///online
if(x!=xprevious or y!=yprevious){
    hyComEmit("USER", "DATA", string(x), string(y));
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_collision_parent">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///collision
if jump=false
{
 advanced_collision()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///draw
//draw_text_colour(x+32,y,global.xp,c_white,c_white,c_white,c_white,1)
//draw_text_colour(x-32,y,global.mhp,c_white,c_white,c_white,c_white,1)
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,image_angle,global.color,1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="107">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///increase level
global.xp=global.mxp;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>12,12</point>
  </PhysicsShapePoints>
</object>
